.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_auto_examples_quickflat_plot_make_gif.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_quickflat_plot_make_gif.py:


====================================
Animate a series of volumes as a GIF
====================================

A convenient way to compare two flat maps (e.g., prediction performance or
tuning weights) is to flip back and forth between them. This example shows how
to make an animated gif in which each frame is a flatmap.


.. code-block:: default

    import cortex
    import matplotlib.pyplot as plt
    import numpy as np
    np.random.seed(1234)








Create several pycortex Volumes



.. code-block:: default


    volumes = {'first': cortex.Volume.random(subject='S1', xfmname='fullhead', vmin=-2, vmax=2),
               'second': cortex.Volume.random(subject='S1', xfmname='fullhead', vmin=-2, vmax=2)}








Plot flat maps individually



.. code-block:: default


    _ = cortex.quickflat.make_figure(volumes['first'])
    _ = cortex.quickflat.make_figure(volumes['second'])
    _ = plt.show()





.. rst-class:: sphx-glr-horizontal


    *

      .. image:: /auto_examples/quickflat/images/sphx_glr_plot_make_gif_001.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/quickflat/images/sphx_glr_plot_make_gif_002.png
            :class: sphx-glr-multi-img





Generate an animated gif that switches between frames every 1.5 seconds



.. code-block:: default


    filename = "./flatmap_comparison.gif"
    cortex.quickflat.make_gif(filename, volumes, frame_duration=1.5)








Display gif inline in an IPython notebook



.. code-block:: default


    import io
    from IPython.display import Image

    stream = io.BytesIO()
    cortex.quickflat.make_gif(stream, volumes, frame_duration=1.5)

    Image(stream.read())






.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none


    <IPython.core.display.Image object>



.. image:: ../../flatmap_comparison.gif


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  15.273 seconds)


.. _sphx_glr_download_auto_examples_quickflat_plot_make_gif.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_make_gif.py <plot_make_gif.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_make_gif.ipynb <plot_make_gif.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
