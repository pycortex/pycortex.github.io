.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_auto_examples_utils_multi_panels_plots.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_utils_multi_panels_plots.py:


====================
Multi-panels figures
====================

The function `cortex.export.plot_panels` plots a number of 3d views of a given
volume, in the same matplotlib figure. It does that by saving a temporary image
for each view, and then aggregating them in the same figure.

The function needs to be run on a system with a display, since it will launch
a webgl viewer. The best way to get the expected results is to keep the webgl
viewer visible during the process.

The selection of views and the aggregation is controled by a list of "panels".
Examples of panels can be imported with:

    from cortex.export import params_flatmap_lateral_medial
    from cortex.export import params_occipital_triple_view


.. code-block:: default

    import os
    import tempfile

    import numpy as np
    import matplotlib.pyplot as plt

    import cortex

    subject = 'S1'


create some artificial data


.. code-block:: default


    shape = cortex.db.get_xfm(subject, 'identity').shape
    data = np.arange(np.product(shape)).reshape(shape)
    volume = cortex.Volume(data, subject=subject, xfmname='identity')


Show examples of multi-panels figures


.. code-block:: default


    params = cortex.export.params_flatmap_lateral_medial
    cortex.export.plot_panels(volume, **params)
    plt.show()

    params = cortex.export.params_occipital_triple_view
    cortex.export.plot_panels(volume, **params)
    plt.show()


List all predefined angles


.. code-block:: default


    base_name = os.path.join(tempfile.mkdtemp(), 'fig')
    list_angles = list(cortex.export.save_views.angle_view_params.keys())

    filenames = cortex.export.save_3d_views(
        volume, base_name=base_name, list_angles=list_angles,
        list_surfaces=['inflated'] * len(list_angles))

    for filename, angle in zip(filenames, list_angles):
        plt.imshow(plt.imread(filename))
        plt.axis('off')
        plt.title(angle)
        plt.show()


List all predefined surfaces


.. code-block:: default


    base_name = os.path.join(tempfile.mkdtemp(), 'fig')
    list_surfaces = list(cortex.export.save_views.unfold_view_params.keys())

    filenames = cortex.export.save_3d_views(
        volume, base_name=base_name,
        list_angles=['lateral_pivot'] * len(list_surfaces),
        list_surfaces=list_surfaces)

    for filename, surface in zip(filenames, list_surfaces):
        plt.imshow(plt.imread(filename))
        plt.axis('off')
        plt.title(surface)
        plt.show()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.000 seconds)


.. _sphx_glr_download_auto_examples_utils_multi_panels_plots.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: multi_panels_plots.py <multi_panels_plots.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: multi_panels_plots.ipynb <multi_panels_plots.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
